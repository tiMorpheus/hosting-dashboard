[2018-05-24 20:01:55.864226] a9b0ea8.INFO: AnnouncementsController#manageAnnouncements: OK {"parameters":[],"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_announcements\">\n    <h1 class=\"content-heading\">\n            Announcements\n            </h1>\n                \n\n<div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    <form id=\"form\" method='POST'>\n        <input type=\"hidden\" name=\"id\" class=\"form-control\">\n        <div style=\"overflow-x: scroll; padding-bottom: 300px\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 150px;\">Name</th>\n                        <th>Date start</th>\n                        <th>Date end</th>\n                        <th>Priority</th>\n                        <th>Period</th>\n                        <th>Times</th>\n                        <th>Data</th>\n                        <th>Status</th>\n                        <th>Reseller id</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"1\">\n                        <td data-value=\"&lt;b&gt;test1&lt;/b&gt;\">\n                            <b>&lt;b&gt;test1&lt;/b&gt;</b>\n                        </td>\n                        <td>\n                            2018-03-12 05:54:02\n                        </td>\n                        <td>\n                            2018-07-20 22:50:38\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test.html.twig&quot;,&quot;items&quot;: {&quot;bhw&quot;:[&quot;https://goo.gl/ZnD8AF&quot;,&quot;https://bit.ly/2JM11qJ&quot;],&quot;tw&quot;:[&quot;https://goo.gl/hB8nhJ&quot;,&quot;https://twitter.com/blazingseo&quot;],&quot;inst&quot;:[&quot;https://goo.gl/4fA5YA&quot;,&quot;https://www.instagram.com/blazingseollc/&quot;],&quot;fb&quot;:[&quot;https://goo.gl/hoo3tk&quot;,&quot;https://www.facebook.com/blazingseo/&quot;]}}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=1\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"17\">\n                        <td data-value=\"test2\">\n                            <b>test2</b>\n                        </td>\n                        <td>\n                            2018-03-26 05:54:02\n                        </td>\n                        <td>\n                            2018-03-30 22:50:38\n                        </td>\n                        <td>\n                            107\n                        </td>\n                        <td>\n                            24\n                        </td>\n                        <td>\n                            10\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test2.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=17\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"24\">\n                        <td data-value=\"test3\">\n                            <b>test3</b>\n                        </td>\n                        <td>\n                            2018-03-26 16:02:42\n                        </td>\n                        <td>\n                            2018-03-28 16:02:46\n                        </td>\n                        <td>\n                            108\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test3.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=24\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"25\">\n                        <td data-value=\"&lt;b&gt;&amp;lt;b&amp;gt;&amp;amp;lt;b&amp;amp;gt;&amp;amp;amp;lt;b&amp;amp;amp;gt;&amp;amp;amp;amp;lt;b&amp;amp;amp;amp;gt;&amp;amp;amp;amp;amp;lt;b&amp;amp;amp;amp;amp;gt;Text-based test&amp;amp;amp;amp;amp;lt;/b&amp;amp;amp;amp;amp;gt;&amp;amp;amp;amp;lt;/b&amp;amp;amp;amp;gt;&amp;amp;amp;lt;/b&amp;amp;amp;gt;&amp;amp;lt;/b\">\n                            <b>&lt;b&gt;&amp;lt;b&amp;gt;&amp;amp;lt;b&amp;amp;gt;&amp;amp;amp;lt;b&amp;amp;amp;gt;&amp;amp;amp;amp;lt;b&amp;amp;amp;amp;gt;&amp;amp;amp;amp;amp;lt;b&amp;amp;amp;amp;amp;gt;Text-based test&amp;amp;amp;amp;amp;lt;/b&amp;amp;amp;amp;amp;gt;&amp;amp;amp;amp;lt;/b&amp;amp;amp;amp;gt;&amp;amp;amp;lt;/b&amp;amp;amp;gt;&amp;amp;lt;/b</b>\n                        </td>\n                        <td>\n                            2018-05-21 16:07:00\n                        </td>\n                        <td>\n                            2018-05-26 16:06:59\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            2\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;textbased&quot;,&quot;content&quot;:&quot;test announcement&quot;,&quot;heading&quot;:&quot;testing sample&quot;,&quot;buttonText&quot;:&quot;close it&quot;,&quot;size&quot;:&quot;modal-sm&quot;}\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=25\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr>\n                        <td colspan=\"9\">\n                        <td>\n                            <button class=\"addnew\">\n                                <em class=\"fa fa-plus\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </form>\n  </div>\n</div>\n\n<table id=\"edit-template\" style=\"display: none\">\n    <tr class=\"editable-row\">\n        <td>\n            <input type=\"text\" name=\"name\" class=\"form-control\">\n        </td>\n        <td>\n            <div class='input-group date date-start'>\n                <input type=\"text\" name=\"date_start\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <div class='input-group date date-end'>\n                <input type=\"text\" name=\"date_end\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <select name=\"priority\">\n                <option value=\"50\">Low</option>\n                <option value=\"100\" selected=\"selected\">Normal</option>\n                <option value=\"150\" selected=\"selected\">High</option>\n                <option value=\"201\">Very high</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"number\" name=\"period\" style=\"width: 50px\">\n        </td>\n        <td>\n            <input type=\"number\" name=\"times_to_show\" style=\"width: 50px\">\n        </td>\n        <td>\n            <textarea name=\"data\"></textarea>\n        </td>\n        <td>\n            <select name=\"active\">\n                <option value=\"1\">Active</option>\n                <option value=\"0\">Disabled</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"text\" name=\"reseller_id\">\n        </td>\n        <td>\n            <button class=\"save\">\n                Save\n            </button>\n            <button class=\"cancel\">\n                Cancel\n            </button>\n        </td>\n    </tr>\n    <tr class=\"editable-row no-border\">\n        <td colspan=\"100\" class=\"edit-sites-relations\"></td>\n    </tr>\n</table>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var rowBackup;\n        var rowEdited;\n        var announcements = {\"1\":{\"id\":\"1\",\"name\":\"<b>test1<\\/b>\",\"data\":\"{\\\"template\\\":\\\"test.html.twig\\\",\\\"items\\\": {\\\"bhw\\\":[\\\"https:\\/\\/goo.gl\\/ZnD8AF\\\",\\\"https:\\/\\/bit.ly\\/2JM11qJ\\\"],\\\"tw\\\":[\\\"https:\\/\\/goo.gl\\/hB8nhJ\\\",\\\"https:\\/\\/twitter.com\\/blazingseo\\\"],\\\"inst\\\":[\\\"https:\\/\\/goo.gl\\/4fA5YA\\\",\\\"https:\\/\\/www.instagram.com\\/blazingseollc\\/\\\"],\\\"fb\\\":[\\\"https:\\/\\/goo.gl\\/hoo3tk\\\",\\\"https:\\/\\/www.facebook.com\\/blazingseo\\/\\\"]}}\",\"priority\":\"150\",\"date_start\":\"2018-03-12 05:54:02\",\"date_end\":\"2018-07-20 22:50:38\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}},\"17\":{\"id\":\"17\",\"name\":\"test2\",\"data\":\"{\\\"template\\\":\\\"test2.html.twig\\\"}\",\"priority\":\"107\",\"date_start\":\"2018-03-26 05:54:02\",\"date_end\":\"2018-03-30 22:50:38\",\"period\":\"24\",\"times_to_show\":\"10\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"24\":{\"id\":\"24\",\"name\":\"test3\",\"data\":\"{\\\"template\\\":\\\"test3.html.twig\\\"}\",\"priority\":\"108\",\"date_start\":\"2018-03-26 16:02:42\",\"date_end\":\"2018-03-28 16:02:46\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"25\":{\"id\":\"25\",\"name\":\"<b>&lt;b&gt;&amp;lt;b&amp;gt;&amp;amp;lt;b&amp;amp;gt;&amp;amp;amp;lt;b&amp;amp;amp;gt;&amp;amp;amp;amp;lt;b&amp;amp;amp;amp;gt;Text-based test&amp;amp;amp;amp;lt;\\/b&amp;amp;amp;amp;gt;&amp;amp;amp;lt;\\/b&amp;amp;amp;gt;&amp;amp;lt;\\/b&amp;amp;gt;&amp;lt;\\/b\",\"data\":\"{\\\"template\\\":\\\"textbased\\\",\\\"content\\\":\\\"test announcement\\\",\\\"heading\\\":\\\"testing sample\\\",\\\"buttonText\\\":\\\"close it\\\",\\\"size\\\":\\\"modal-sm\\\"}\",\"priority\":\"150\",\"date_start\":\"2018-05-21 16:07:00\",\"date_end\":\"2018-05-26 16:06:59\",\"period\":\"1\",\"times_to_show\":\"2\",\"active\":\"1\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}}};\n\n        $('#announcements-table').on('click', '.edit', function(e) {\n            var row = $(e.target).closest('tr');\n\n            if(rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            rowBackup = row[0];\n\n            var newRow = $('#edit-template tr').clone().replaceAll(row);\n            newRow.attr('data-id', row.attr('data-id'));\n\n            rowEdited = newRow;\n\n            var i = 0;\n            $(row).find('td').each(function(){\n                var value = '';\n                if($(this).attr('data-value')) {\n                    value = $(this).attr('data-value');\n                } else {\n                    value = $(this).html();\n                }\n\n                var elem = newRow.find('td').eq(i).find('input, select, textarea').eq(0);\n                if(elem.prop(\"tagName\") == 'INPUT') {\n                    elem.val($.trim(value));\n                } else if(elem.prop(\"tagName\") == 'SELECT') {\n                    elem.find('option[value=\"' + $.trim(value) + '\"]').attr('selected', 'selected');\n                } else if(elem.prop(\"tagName\") == 'TEXTAREA') {\n                    elem.html($.trim(value));\n                }\n\n                i++;\n            });\n\n            initDatePickers(newRow);\n            initSiteCheckboxes(row.attr('data-id'));\n        });\n\n        $('#announcements-table').on('click', '.cancel', function(e) {\n            var row = $(e.target).closest('tr');\n\n            // replace closest editable row with actual row being edited\n            rowRestore(row);\n\n            // remove all editable rows\n            rowEdited.remove();\n            rowEdited = false;\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.save', function(e) {\n            if($(e.target).closest('tr').attr('data-id')) {\n                $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            } else {\n                $('#form input[name=\"id\"]').remove();\n            }\n        });\n\n        $('#announcements-table').on('click', '.addnew', function(e) {\n            if (rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            var row = $(e.target).closest('tr');\n            var newRow = $('#edit-template tr').clone();\n\n            rowEdited = newRow;\n\n            row.before(newRow);\n            initDatePickers(newRow);\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.remove', function(e) {\n            if (!confirm(\"Are you sure you want to remove this announcement?\"))\n                e.preventDefault();\n\n            $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            $('#form').append('<input type=\"hidden\" name=\"remove\" class=\"form-control\" value=\"1\">');\n        });\n\n        function initDatePickers(row) {\n            row.find('.date-start, .date-end').datetimepicker({ //, .date-end'\n                format: \"YYYY-MM-DD HH:mm:ss\",\n                icons: {\n                    time: \"fa fa-clock-o\",\n                    date: \"fa fa-calendar\",\n                    up: \"fa fa-arrow-up\",\n                    down: \"fa fa-arrow-down\"\n                }\n            });\n        }\n\n        function initSiteCheckboxes(id) {\n            var html = 'Display on sites: ';\n            if (id) {\n                var sites = announcements[id].sites;\n                for (var site_id in sites) {\n                    html += '<input class=\"checkbox-inline\" type=\"checkbox\" name=\"sitesRel[' + site_id + ']\" value=\"1\"' + (sites[site_id] == '1' ? ' checked' : '') + '> ' + site_id;\n                }\n            }\n\n            rowEdited.find('.edit-sites-relations').html(html);\n        }\n\n        function rowRestore(row) {\n            if(row.attr('data-id')) {\n                if(rowBackup) {\n                    row.replaceWith(rowBackup);\n                }\n            } else {\n                row.remove();\n            }\n        }\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"a9b0ea8"}
[2018-05-24 20:02:14.162053] 1669eee.INFO: AnnouncementsController#manageAnnouncements: OK {"parameters":{"id":"25","name":"Test","date_start":"2018-05-21 16:07:00","date_end":"2018-05-26 16:06:59","priority":"150","period":"1","times_to_show":"2","data":"{\"template\":\"textbased\",\"content\":\"test announcement\",\"heading\":\"testing sample\",\"buttonText\":\"close it\",\"size\":\"modal-sm\"}","active":"1","reseller_id":"1","sitesRel":{"dashboard":"1","whmcs":"1"}},"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_announcements\">\n    <h1 class=\"content-heading\">\n            Announcements\n            </h1>\n                \n\n<div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    <form id=\"form\" method='POST'>\n        <input type=\"hidden\" name=\"id\" class=\"form-control\">\n        <div style=\"overflow-x: scroll; padding-bottom: 300px\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 150px;\">Name</th>\n                        <th>Date start</th>\n                        <th>Date end</th>\n                        <th>Priority</th>\n                        <th>Period</th>\n                        <th>Times</th>\n                        <th>Data</th>\n                        <th>Status</th>\n                        <th>Reseller id</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"1\">\n                        <td data-value=\"&lt;b&gt;test1&lt;/b&gt;\">\n                            <b>&lt;b&gt;test1&lt;/b&gt;</b>\n                        </td>\n                        <td>\n                            2018-03-12 05:54:02\n                        </td>\n                        <td>\n                            2018-07-20 22:50:38\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test.html.twig&quot;,&quot;items&quot;: {&quot;bhw&quot;:[&quot;https://goo.gl/ZnD8AF&quot;,&quot;https://bit.ly/2JM11qJ&quot;],&quot;tw&quot;:[&quot;https://goo.gl/hB8nhJ&quot;,&quot;https://twitter.com/blazingseo&quot;],&quot;inst&quot;:[&quot;https://goo.gl/4fA5YA&quot;,&quot;https://www.instagram.com/blazingseollc/&quot;],&quot;fb&quot;:[&quot;https://goo.gl/hoo3tk&quot;,&quot;https://www.facebook.com/blazingseo/&quot;]}}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=1\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"17\">\n                        <td data-value=\"test2\">\n                            <b>test2</b>\n                        </td>\n                        <td>\n                            2018-03-26 05:54:02\n                        </td>\n                        <td>\n                            2018-03-30 22:50:38\n                        </td>\n                        <td>\n                            107\n                        </td>\n                        <td>\n                            24\n                        </td>\n                        <td>\n                            10\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test2.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=17\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"24\">\n                        <td data-value=\"test3\">\n                            <b>test3</b>\n                        </td>\n                        <td>\n                            2018-03-26 16:02:42\n                        </td>\n                        <td>\n                            2018-03-28 16:02:46\n                        </td>\n                        <td>\n                            108\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test3.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=24\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"25\">\n                        <td data-value=\"Test\">\n                            <b>Test</b>\n                        </td>\n                        <td>\n                            2018-05-21 16:07:00\n                        </td>\n                        <td>\n                            2018-05-26 16:06:59\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            2\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;textbased&quot;,&quot;content&quot;:&quot;test announcement&quot;,&quot;heading&quot;:&quot;testing sample&quot;,&quot;buttonText&quot;:&quot;close it&quot;,&quot;size&quot;:&quot;modal-sm&quot;}\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=25\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr>\n                        <td colspan=\"9\">\n                        <td>\n                            <button class=\"addnew\">\n                                <em class=\"fa fa-plus\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </form>\n  </div>\n</div>\n\n<table id=\"edit-template\" style=\"display: none\">\n    <tr class=\"editable-row\">\n        <td>\n            <input type=\"text\" name=\"name\" class=\"form-control\">\n        </td>\n        <td>\n            <div class='input-group date date-start'>\n                <input type=\"text\" name=\"date_start\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <div class='input-group date date-end'>\n                <input type=\"text\" name=\"date_end\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <select name=\"priority\">\n                <option value=\"50\">Low</option>\n                <option value=\"100\" selected=\"selected\">Normal</option>\n                <option value=\"150\" selected=\"selected\">High</option>\n                <option value=\"201\">Very high</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"number\" name=\"period\" style=\"width: 50px\">\n        </td>\n        <td>\n            <input type=\"number\" name=\"times_to_show\" style=\"width: 50px\">\n        </td>\n        <td>\n            <textarea name=\"data\"></textarea>\n        </td>\n        <td>\n            <select name=\"active\">\n                <option value=\"1\">Active</option>\n                <option value=\"0\">Disabled</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"text\" name=\"reseller_id\">\n        </td>\n        <td>\n            <button class=\"save\">\n                Save\n            </button>\n            <button class=\"cancel\">\n                Cancel\n            </button>\n        </td>\n    </tr>\n    <tr class=\"editable-row no-border\">\n        <td colspan=\"100\" class=\"edit-sites-relations\"></td>\n    </tr>\n</table>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var rowBackup;\n        var rowEdited;\n        var announcements = {\"1\":{\"id\":\"1\",\"name\":\"<b>test1<\\/b>\",\"data\":\"{\\\"template\\\":\\\"test.html.twig\\\",\\\"items\\\": {\\\"bhw\\\":[\\\"https:\\/\\/goo.gl\\/ZnD8AF\\\",\\\"https:\\/\\/bit.ly\\/2JM11qJ\\\"],\\\"tw\\\":[\\\"https:\\/\\/goo.gl\\/hB8nhJ\\\",\\\"https:\\/\\/twitter.com\\/blazingseo\\\"],\\\"inst\\\":[\\\"https:\\/\\/goo.gl\\/4fA5YA\\\",\\\"https:\\/\\/www.instagram.com\\/blazingseollc\\/\\\"],\\\"fb\\\":[\\\"https:\\/\\/goo.gl\\/hoo3tk\\\",\\\"https:\\/\\/www.facebook.com\\/blazingseo\\/\\\"]}}\",\"priority\":\"150\",\"date_start\":\"2018-03-12 05:54:02\",\"date_end\":\"2018-07-20 22:50:38\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}},\"17\":{\"id\":\"17\",\"name\":\"test2\",\"data\":\"{\\\"template\\\":\\\"test2.html.twig\\\"}\",\"priority\":\"107\",\"date_start\":\"2018-03-26 05:54:02\",\"date_end\":\"2018-03-30 22:50:38\",\"period\":\"24\",\"times_to_show\":\"10\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"24\":{\"id\":\"24\",\"name\":\"test3\",\"data\":\"{\\\"template\\\":\\\"test3.html.twig\\\"}\",\"priority\":\"108\",\"date_start\":\"2018-03-26 16:02:42\",\"date_end\":\"2018-03-28 16:02:46\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"25\":{\"id\":\"25\",\"name\":\"Test\",\"data\":\"{\\\"template\\\":\\\"textbased\\\",\\\"content\\\":\\\"test announcement\\\",\\\"heading\\\":\\\"testing sample\\\",\\\"buttonText\\\":\\\"close it\\\",\\\"size\\\":\\\"modal-sm\\\"}\",\"priority\":\"150\",\"date_start\":\"2018-05-21 16:07:00\",\"date_end\":\"2018-05-26 16:06:59\",\"period\":\"1\",\"times_to_show\":\"2\",\"active\":\"1\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}}};\n\n        $('#announcements-table').on('click', '.edit', function(e) {\n            var row = $(e.target).closest('tr');\n\n            if(rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            rowBackup = row[0];\n\n            var newRow = $('#edit-template tr').clone().replaceAll(row);\n            newRow.attr('data-id', row.attr('data-id'));\n\n            rowEdited = newRow;\n\n            var i = 0;\n            $(row).find('td').each(function(){\n                var value = '';\n                if($(this).attr('data-value')) {\n                    value = $(this).attr('data-value');\n                } else {\n                    value = $(this).html();\n                }\n\n                var elem = newRow.find('td').eq(i).find('input, select, textarea').eq(0);\n                if(elem.prop(\"tagName\") == 'INPUT') {\n                    elem.val($.trim(value));\n                } else if(elem.prop(\"tagName\") == 'SELECT') {\n                    elem.find('option[value=\"' + $.trim(value) + '\"]').attr('selected', 'selected');\n                } else if(elem.prop(\"tagName\") == 'TEXTAREA') {\n                    elem.html($.trim(value));\n                }\n\n                i++;\n            });\n\n            initDatePickers(newRow);\n            initSiteCheckboxes(row.attr('data-id'));\n        });\n\n        $('#announcements-table').on('click', '.cancel', function(e) {\n            var row = $(e.target).closest('tr');\n\n            // replace closest editable row with actual row being edited\n            rowRestore(row);\n\n            // remove all editable rows\n            rowEdited.remove();\n            rowEdited = false;\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.save', function(e) {\n            if($(e.target).closest('tr').attr('data-id')) {\n                $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            } else {\n                $('#form input[name=\"id\"]').remove();\n            }\n        });\n\n        $('#announcements-table').on('click', '.addnew', function(e) {\n            if (rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            var row = $(e.target).closest('tr');\n            var newRow = $('#edit-template tr').clone();\n\n            rowEdited = newRow;\n\n            row.before(newRow);\n            initDatePickers(newRow);\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.remove', function(e) {\n            if (!confirm(\"Are you sure you want to remove this announcement?\"))\n                e.preventDefault();\n\n            $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            $('#form').append('<input type=\"hidden\" name=\"remove\" class=\"form-control\" value=\"1\">');\n        });\n\n        function initDatePickers(row) {\n            row.find('.date-start, .date-end').datetimepicker({ //, .date-end'\n                format: \"YYYY-MM-DD HH:mm:ss\",\n                icons: {\n                    time: \"fa fa-clock-o\",\n                    date: \"fa fa-calendar\",\n                    up: \"fa fa-arrow-up\",\n                    down: \"fa fa-arrow-down\"\n                }\n            });\n        }\n\n        function initSiteCheckboxes(id) {\n            var html = 'Display on sites: ';\n            if (id) {\n                var sites = announcements[id].sites;\n                for (var site_id in sites) {\n                    html += '<input class=\"checkbox-inline\" type=\"checkbox\" name=\"sitesRel[' + site_id + ']\" value=\"1\"' + (sites[site_id] == '1' ? ' checked' : '') + '> ' + site_id;\n                }\n            }\n\n            rowEdited.find('.edit-sites-relations').html(html);\n        }\n\n        function rowRestore(row) {\n            if(row.attr('data-id')) {\n                if(rowBackup) {\n                    row.replaceWith(rowBackup);\n                }\n            } else {\n                row.remove();\n            }\n        }\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"1669eee"}
[2018-05-24 20:02:19.087286] a10864f.INFO: AnnouncementsController#manageAnnouncements: OK {"parameters":{"id":"25","name":"Test","date_start":"2018-05-21 16:07:00","date_end":"2018-05-26 16:06:59","priority":"150","period":"1","times_to_show":"2","data":"{\"template\":\"textbased\",\"content\":\"test announcement\",\"heading\":\"testing sample\",\"buttonText\":\"close it\",\"size\":\"modal-sm\"}","active":"1","reseller_id":"1","sitesRel":{"dashboard":"1","whmcs":"1"}},"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_announcements\">\n    <h1 class=\"content-heading\">\n            Announcements\n            </h1>\n                \n\n<div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    <form id=\"form\" method='POST'>\n        <input type=\"hidden\" name=\"id\" class=\"form-control\">\n        <div style=\"overflow-x: scroll; padding-bottom: 300px\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 150px;\">Name</th>\n                        <th>Date start</th>\n                        <th>Date end</th>\n                        <th>Priority</th>\n                        <th>Period</th>\n                        <th>Times</th>\n                        <th>Data</th>\n                        <th>Status</th>\n                        <th>Reseller id</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"1\">\n                        <td data-value=\"&lt;b&gt;test1&lt;/b&gt;\">\n                            <b>&lt;b&gt;test1&lt;/b&gt;</b>\n                        </td>\n                        <td>\n                            2018-03-12 05:54:02\n                        </td>\n                        <td>\n                            2018-07-20 22:50:38\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test.html.twig&quot;,&quot;items&quot;: {&quot;bhw&quot;:[&quot;https://goo.gl/ZnD8AF&quot;,&quot;https://bit.ly/2JM11qJ&quot;],&quot;tw&quot;:[&quot;https://goo.gl/hB8nhJ&quot;,&quot;https://twitter.com/blazingseo&quot;],&quot;inst&quot;:[&quot;https://goo.gl/4fA5YA&quot;,&quot;https://www.instagram.com/blazingseollc/&quot;],&quot;fb&quot;:[&quot;https://goo.gl/hoo3tk&quot;,&quot;https://www.facebook.com/blazingseo/&quot;]}}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=1\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"17\">\n                        <td data-value=\"test2\">\n                            <b>test2</b>\n                        </td>\n                        <td>\n                            2018-03-26 05:54:02\n                        </td>\n                        <td>\n                            2018-03-30 22:50:38\n                        </td>\n                        <td>\n                            107\n                        </td>\n                        <td>\n                            24\n                        </td>\n                        <td>\n                            10\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test2.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=17\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"24\">\n                        <td data-value=\"test3\">\n                            <b>test3</b>\n                        </td>\n                        <td>\n                            2018-03-26 16:02:42\n                        </td>\n                        <td>\n                            2018-03-28 16:02:46\n                        </td>\n                        <td>\n                            108\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test3.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=24\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"25\">\n                        <td data-value=\"Test\">\n                            <b>Test</b>\n                        </td>\n                        <td>\n                            2018-05-21 16:07:00\n                        </td>\n                        <td>\n                            2018-05-26 16:06:59\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            2\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;textbased&quot;,&quot;content&quot;:&quot;test announcement&quot;,&quot;heading&quot;:&quot;testing sample&quot;,&quot;buttonText&quot;:&quot;close it&quot;,&quot;size&quot;:&quot;modal-sm&quot;}\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=25\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr>\n                        <td colspan=\"9\">\n                        <td>\n                            <button class=\"addnew\">\n                                <em class=\"fa fa-plus\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </form>\n  </div>\n</div>\n\n<table id=\"edit-template\" style=\"display: none\">\n    <tr class=\"editable-row\">\n        <td>\n            <input type=\"text\" name=\"name\" class=\"form-control\">\n        </td>\n        <td>\n            <div class='input-group date date-start'>\n                <input type=\"text\" name=\"date_start\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <div class='input-group date date-end'>\n                <input type=\"text\" name=\"date_end\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <select name=\"priority\">\n                <option value=\"50\">Low</option>\n                <option value=\"100\" selected=\"selected\">Normal</option>\n                <option value=\"150\" selected=\"selected\">High</option>\n                <option value=\"201\">Very high</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"number\" name=\"period\" style=\"width: 50px\">\n        </td>\n        <td>\n            <input type=\"number\" name=\"times_to_show\" style=\"width: 50px\">\n        </td>\n        <td>\n            <textarea name=\"data\"></textarea>\n        </td>\n        <td>\n            <select name=\"active\">\n                <option value=\"1\">Active</option>\n                <option value=\"0\">Disabled</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"text\" name=\"reseller_id\">\n        </td>\n        <td>\n            <button class=\"save\">\n                Save\n            </button>\n            <button class=\"cancel\">\n                Cancel\n            </button>\n        </td>\n    </tr>\n    <tr class=\"editable-row no-border\">\n        <td colspan=\"100\" class=\"edit-sites-relations\"></td>\n    </tr>\n</table>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var rowBackup;\n        var rowEdited;\n        var announcements = {\"1\":{\"id\":\"1\",\"name\":\"<b>test1<\\/b>\",\"data\":\"{\\\"template\\\":\\\"test.html.twig\\\",\\\"items\\\": {\\\"bhw\\\":[\\\"https:\\/\\/goo.gl\\/ZnD8AF\\\",\\\"https:\\/\\/bit.ly\\/2JM11qJ\\\"],\\\"tw\\\":[\\\"https:\\/\\/goo.gl\\/hB8nhJ\\\",\\\"https:\\/\\/twitter.com\\/blazingseo\\\"],\\\"inst\\\":[\\\"https:\\/\\/goo.gl\\/4fA5YA\\\",\\\"https:\\/\\/www.instagram.com\\/blazingseollc\\/\\\"],\\\"fb\\\":[\\\"https:\\/\\/goo.gl\\/hoo3tk\\\",\\\"https:\\/\\/www.facebook.com\\/blazingseo\\/\\\"]}}\",\"priority\":\"150\",\"date_start\":\"2018-03-12 05:54:02\",\"date_end\":\"2018-07-20 22:50:38\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}},\"17\":{\"id\":\"17\",\"name\":\"test2\",\"data\":\"{\\\"template\\\":\\\"test2.html.twig\\\"}\",\"priority\":\"107\",\"date_start\":\"2018-03-26 05:54:02\",\"date_end\":\"2018-03-30 22:50:38\",\"period\":\"24\",\"times_to_show\":\"10\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"24\":{\"id\":\"24\",\"name\":\"test3\",\"data\":\"{\\\"template\\\":\\\"test3.html.twig\\\"}\",\"priority\":\"108\",\"date_start\":\"2018-03-26 16:02:42\",\"date_end\":\"2018-03-28 16:02:46\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"25\":{\"id\":\"25\",\"name\":\"Test\",\"data\":\"{\\\"template\\\":\\\"textbased\\\",\\\"content\\\":\\\"test announcement\\\",\\\"heading\\\":\\\"testing sample\\\",\\\"buttonText\\\":\\\"close it\\\",\\\"size\\\":\\\"modal-sm\\\"}\",\"priority\":\"150\",\"date_start\":\"2018-05-21 16:07:00\",\"date_end\":\"2018-05-26 16:06:59\",\"period\":\"1\",\"times_to_show\":\"2\",\"active\":\"1\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}}};\n\n        $('#announcements-table').on('click', '.edit', function(e) {\n            var row = $(e.target).closest('tr');\n\n            if(rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            rowBackup = row[0];\n\n            var newRow = $('#edit-template tr').clone().replaceAll(row);\n            newRow.attr('data-id', row.attr('data-id'));\n\n            rowEdited = newRow;\n\n            var i = 0;\n            $(row).find('td').each(function(){\n                var value = '';\n                if($(this).attr('data-value')) {\n                    value = $(this).attr('data-value');\n                } else {\n                    value = $(this).html();\n                }\n\n                var elem = newRow.find('td').eq(i).find('input, select, textarea').eq(0);\n                if(elem.prop(\"tagName\") == 'INPUT') {\n                    elem.val($.trim(value));\n                } else if(elem.prop(\"tagName\") == 'SELECT') {\n                    elem.find('option[value=\"' + $.trim(value) + '\"]').attr('selected', 'selected');\n                } else if(elem.prop(\"tagName\") == 'TEXTAREA') {\n                    elem.html($.trim(value));\n                }\n\n                i++;\n            });\n\n            initDatePickers(newRow);\n            initSiteCheckboxes(row.attr('data-id'));\n        });\n\n        $('#announcements-table').on('click', '.cancel', function(e) {\n            var row = $(e.target).closest('tr');\n\n            // replace closest editable row with actual row being edited\n            rowRestore(row);\n\n            // remove all editable rows\n            rowEdited.remove();\n            rowEdited = false;\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.save', function(e) {\n            if($(e.target).closest('tr').attr('data-id')) {\n                $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            } else {\n                $('#form input[name=\"id\"]').remove();\n            }\n        });\n\n        $('#announcements-table').on('click', '.addnew', function(e) {\n            if (rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            var row = $(e.target).closest('tr');\n            var newRow = $('#edit-template tr').clone();\n\n            rowEdited = newRow;\n\n            row.before(newRow);\n            initDatePickers(newRow);\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.remove', function(e) {\n            if (!confirm(\"Are you sure you want to remove this announcement?\"))\n                e.preventDefault();\n\n            $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            $('#form').append('<input type=\"hidden\" name=\"remove\" class=\"form-control\" value=\"1\">');\n        });\n\n        function initDatePickers(row) {\n            row.find('.date-start, .date-end').datetimepicker({ //, .date-end'\n                format: \"YYYY-MM-DD HH:mm:ss\",\n                icons: {\n                    time: \"fa fa-clock-o\",\n                    date: \"fa fa-calendar\",\n                    up: \"fa fa-arrow-up\",\n                    down: \"fa fa-arrow-down\"\n                }\n            });\n        }\n\n        function initSiteCheckboxes(id) {\n            var html = 'Display on sites: ';\n            if (id) {\n                var sites = announcements[id].sites;\n                for (var site_id in sites) {\n                    html += '<input class=\"checkbox-inline\" type=\"checkbox\" name=\"sitesRel[' + site_id + ']\" value=\"1\"' + (sites[site_id] == '1' ? ' checked' : '') + '> ' + site_id;\n                }\n            }\n\n            rowEdited.find('.edit-sites-relations').html(html);\n        }\n\n        function rowRestore(row) {\n            if(row.attr('data-id')) {\n                if(rowBackup) {\n                    row.replaceWith(rowBackup);\n                }\n            } else {\n                row.remove();\n            }\n        }\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"a10864f"}
[2018-05-24 20:02:23.146456] a49d3d8.INFO: AnnouncementsController#manageAnnouncements: OK {"parameters":{"id":"25","name":"Test","date_start":"2018-05-21 16:07:00","date_end":"2018-05-26 16:06:59","priority":"150","period":"1","times_to_show":"2","data":"{\"template\":\"textbased\",\"content\":\"test announcement\",\"heading\":\"testing sample\",\"buttonText\":\"close it\",\"size\":\"modal-sm\"}","active":"1","reseller_id":"1","sitesRel":{"dashboard":"1","whmcs":"1"}},"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_announcements\">\n    <h1 class=\"content-heading\">\n            Announcements\n            </h1>\n                \n\n<div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    <form id=\"form\" method='POST'>\n        <input type=\"hidden\" name=\"id\" class=\"form-control\">\n        <div style=\"overflow-x: scroll; padding-bottom: 300px\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 150px;\">Name</th>\n                        <th>Date start</th>\n                        <th>Date end</th>\n                        <th>Priority</th>\n                        <th>Period</th>\n                        <th>Times</th>\n                        <th>Data</th>\n                        <th>Status</th>\n                        <th>Reseller id</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"1\">\n                        <td data-value=\"&lt;b&gt;test1&lt;/b&gt;\">\n                            <b>&lt;b&gt;test1&lt;/b&gt;</b>\n                        </td>\n                        <td>\n                            2018-03-12 05:54:02\n                        </td>\n                        <td>\n                            2018-07-20 22:50:38\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test.html.twig&quot;,&quot;items&quot;: {&quot;bhw&quot;:[&quot;https://goo.gl/ZnD8AF&quot;,&quot;https://bit.ly/2JM11qJ&quot;],&quot;tw&quot;:[&quot;https://goo.gl/hB8nhJ&quot;,&quot;https://twitter.com/blazingseo&quot;],&quot;inst&quot;:[&quot;https://goo.gl/4fA5YA&quot;,&quot;https://www.instagram.com/blazingseollc/&quot;],&quot;fb&quot;:[&quot;https://goo.gl/hoo3tk&quot;,&quot;https://www.facebook.com/blazingseo/&quot;]}}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=1\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"17\">\n                        <td data-value=\"test2\">\n                            <b>test2</b>\n                        </td>\n                        <td>\n                            2018-03-26 05:54:02\n                        </td>\n                        <td>\n                            2018-03-30 22:50:38\n                        </td>\n                        <td>\n                            107\n                        </td>\n                        <td>\n                            24\n                        </td>\n                        <td>\n                            10\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test2.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=17\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"24\">\n                        <td data-value=\"test3\">\n                            <b>test3</b>\n                        </td>\n                        <td>\n                            2018-03-26 16:02:42\n                        </td>\n                        <td>\n                            2018-03-28 16:02:46\n                        </td>\n                        <td>\n                            108\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test3.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=24\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"25\">\n                        <td data-value=\"Test\">\n                            <b>Test</b>\n                        </td>\n                        <td>\n                            2018-05-21 16:07:00\n                        </td>\n                        <td>\n                            2018-05-26 16:06:59\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            2\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;textbased&quot;,&quot;content&quot;:&quot;test announcement&quot;,&quot;heading&quot;:&quot;testing sample&quot;,&quot;buttonText&quot;:&quot;close it&quot;,&quot;size&quot;:&quot;modal-sm&quot;}\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=25\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr>\n                        <td colspan=\"9\">\n                        <td>\n                            <button class=\"addnew\">\n                                <em class=\"fa fa-plus\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </form>\n  </div>\n</div>\n\n<table id=\"edit-template\" style=\"display: none\">\n    <tr class=\"editable-row\">\n        <td>\n            <input type=\"text\" name=\"name\" class=\"form-control\">\n        </td>\n        <td>\n            <div class='input-group date date-start'>\n                <input type=\"text\" name=\"date_start\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <div class='input-group date date-end'>\n                <input type=\"text\" name=\"date_end\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <select name=\"priority\">\n                <option value=\"50\">Low</option>\n                <option value=\"100\" selected=\"selected\">Normal</option>\n                <option value=\"150\" selected=\"selected\">High</option>\n                <option value=\"201\">Very high</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"number\" name=\"period\" style=\"width: 50px\">\n        </td>\n        <td>\n            <input type=\"number\" name=\"times_to_show\" style=\"width: 50px\">\n        </td>\n        <td>\n            <textarea name=\"data\"></textarea>\n        </td>\n        <td>\n            <select name=\"active\">\n                <option value=\"1\">Active</option>\n                <option value=\"0\">Disabled</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"text\" name=\"reseller_id\">\n        </td>\n        <td>\n            <button class=\"save\">\n                Save\n            </button>\n            <button class=\"cancel\">\n                Cancel\n            </button>\n        </td>\n    </tr>\n    <tr class=\"editable-row no-border\">\n        <td colspan=\"100\" class=\"edit-sites-relations\"></td>\n    </tr>\n</table>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var rowBackup;\n        var rowEdited;\n        var announcements = {\"1\":{\"id\":\"1\",\"name\":\"<b>test1<\\/b>\",\"data\":\"{\\\"template\\\":\\\"test.html.twig\\\",\\\"items\\\": {\\\"bhw\\\":[\\\"https:\\/\\/goo.gl\\/ZnD8AF\\\",\\\"https:\\/\\/bit.ly\\/2JM11qJ\\\"],\\\"tw\\\":[\\\"https:\\/\\/goo.gl\\/hB8nhJ\\\",\\\"https:\\/\\/twitter.com\\/blazingseo\\\"],\\\"inst\\\":[\\\"https:\\/\\/goo.gl\\/4fA5YA\\\",\\\"https:\\/\\/www.instagram.com\\/blazingseollc\\/\\\"],\\\"fb\\\":[\\\"https:\\/\\/goo.gl\\/hoo3tk\\\",\\\"https:\\/\\/www.facebook.com\\/blazingseo\\/\\\"]}}\",\"priority\":\"150\",\"date_start\":\"2018-03-12 05:54:02\",\"date_end\":\"2018-07-20 22:50:38\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}},\"17\":{\"id\":\"17\",\"name\":\"test2\",\"data\":\"{\\\"template\\\":\\\"test2.html.twig\\\"}\",\"priority\":\"107\",\"date_start\":\"2018-03-26 05:54:02\",\"date_end\":\"2018-03-30 22:50:38\",\"period\":\"24\",\"times_to_show\":\"10\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"24\":{\"id\":\"24\",\"name\":\"test3\",\"data\":\"{\\\"template\\\":\\\"test3.html.twig\\\"}\",\"priority\":\"108\",\"date_start\":\"2018-03-26 16:02:42\",\"date_end\":\"2018-03-28 16:02:46\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"25\":{\"id\":\"25\",\"name\":\"Test\",\"data\":\"{\\\"template\\\":\\\"textbased\\\",\\\"content\\\":\\\"test announcement\\\",\\\"heading\\\":\\\"testing sample\\\",\\\"buttonText\\\":\\\"close it\\\",\\\"size\\\":\\\"modal-sm\\\"}\",\"priority\":\"150\",\"date_start\":\"2018-05-21 16:07:00\",\"date_end\":\"2018-05-26 16:06:59\",\"period\":\"1\",\"times_to_show\":\"2\",\"active\":\"1\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}}};\n\n        $('#announcements-table').on('click', '.edit', function(e) {\n            var row = $(e.target).closest('tr');\n\n            if(rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            rowBackup = row[0];\n\n            var newRow = $('#edit-template tr').clone().replaceAll(row);\n            newRow.attr('data-id', row.attr('data-id'));\n\n            rowEdited = newRow;\n\n            var i = 0;\n            $(row).find('td').each(function(){\n                var value = '';\n                if($(this).attr('data-value')) {\n                    value = $(this).attr('data-value');\n                } else {\n                    value = $(this).html();\n                }\n\n                var elem = newRow.find('td').eq(i).find('input, select, textarea').eq(0);\n                if(elem.prop(\"tagName\") == 'INPUT') {\n                    elem.val($.trim(value));\n                } else if(elem.prop(\"tagName\") == 'SELECT') {\n                    elem.find('option[value=\"' + $.trim(value) + '\"]').attr('selected', 'selected');\n                } else if(elem.prop(\"tagName\") == 'TEXTAREA') {\n                    elem.html($.trim(value));\n                }\n\n                i++;\n            });\n\n            initDatePickers(newRow);\n            initSiteCheckboxes(row.attr('data-id'));\n        });\n\n        $('#announcements-table').on('click', '.cancel', function(e) {\n            var row = $(e.target).closest('tr');\n\n            // replace closest editable row with actual row being edited\n            rowRestore(row);\n\n            // remove all editable rows\n            rowEdited.remove();\n            rowEdited = false;\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.save', function(e) {\n            if($(e.target).closest('tr').attr('data-id')) {\n                $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            } else {\n                $('#form input[name=\"id\"]').remove();\n            }\n        });\n\n        $('#announcements-table').on('click', '.addnew', function(e) {\n            if (rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            var row = $(e.target).closest('tr');\n            var newRow = $('#edit-template tr').clone();\n\n            rowEdited = newRow;\n\n            row.before(newRow);\n            initDatePickers(newRow);\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.remove', function(e) {\n            if (!confirm(\"Are you sure you want to remove this announcement?\"))\n                e.preventDefault();\n\n            $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            $('#form').append('<input type=\"hidden\" name=\"remove\" class=\"form-control\" value=\"1\">');\n        });\n\n        function initDatePickers(row) {\n            row.find('.date-start, .date-end').datetimepicker({ //, .date-end'\n                format: \"YYYY-MM-DD HH:mm:ss\",\n                icons: {\n                    time: \"fa fa-clock-o\",\n                    date: \"fa fa-calendar\",\n                    up: \"fa fa-arrow-up\",\n                    down: \"fa fa-arrow-down\"\n                }\n            });\n        }\n\n        function initSiteCheckboxes(id) {\n            var html = 'Display on sites: ';\n            if (id) {\n                var sites = announcements[id].sites;\n                for (var site_id in sites) {\n                    html += '<input class=\"checkbox-inline\" type=\"checkbox\" name=\"sitesRel[' + site_id + ']\" value=\"1\"' + (sites[site_id] == '1' ? ' checked' : '') + '> ' + site_id;\n                }\n            }\n\n            rowEdited.find('.edit-sites-relations').html(html);\n        }\n\n        function rowRestore(row) {\n            if(row.attr('data-id')) {\n                if(rowBackup) {\n                    row.replaceWith(rowBackup);\n                }\n            } else {\n                row.remove();\n            }\n        }\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"a49d3d8"}
[2018-05-24 20:02:40.877881] 3585efb.INFO: AnnouncementsController#manageHistory: OK {"parameters":{"id":"25"},"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_history\">\n    <h1 class=\"content-heading\">\n            Announcement responses - Test\n            </h1>\n                <div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    Filter by user:\n    <select id=\"user-select\">\n        <option value=\"\" selected=\"selected\"></option>\n                    <option value=\"149\" >test81@test.ua</option>\n                    <option value=\"319\" >vtest258@grr.la</option>\n                    <option value=\"321\" >vtest260@grr.la</option>\n                    <option value=\"322\" >taylor.fleeman+2@sprious.com</option>\n                    <option value=\"323\" >vtest261@grr.la</option>\n                    <option value=\"323\" >vtest261@grr.la</option>\n            </select>\n\n    <em class=\"fa fa-refresh table-reload\" style=\"cursor: pointer\"></em>\n\n    <form id=\"form\" method='POST'>\n        <div style=\"overflow-x: scroll;\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th>User email</th>\n                        <th>Action</th>\n                        <th>Data</th>\n                        <th>Timestamp <em class=\"fa fa-chevron-down\"></em></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"260\">\n                        <td>\n                            vtest258@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-24 15:11:55\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"259\">\n                        <td>\n                            test81@test.ua\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-24 12:33:49\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"255\">\n                        <td>\n                            vtest261@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-23 13:41:59\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"251\">\n                        <td>\n                            vtest261@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-22 13:33:27\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"246\">\n                        <td>\n                            vtest260@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-23 13:26:34\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"229\">\n                        <td>\n                            taylor.fleeman+2@sprious.com\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-23 10:15:00\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                </tbody>\n            </table>\n        </div>\n\n            </form>\n  </div>\n</div>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var select = $('#user-select');\n\n        function reload() {\n            var userId;\n\n            var url = window.location.href;\n            url = url.replace(/\\&userId=\\d*/, '').replace(/\\&page=\\d*/, '');\n            if(userId = select.val()) {\n                window.location =  url + '&userId=' + userId;\n            } else \n                window.location = url;\n        }\n\n        $('#user-select').on('change', reload);\n        $('.table-reload').on('click', reload);\n\n        $('#form').on('click', '.remove', function(e) {\n            $('#form').append('<input type=\"hidden\" name=\"remove\" value=\"' + $(e.target).closest('tr').attr('data-id') + '\"></input>');\n        });\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"3585efb"}
[2018-05-24 20:03:40.494182] bd0967d.INFO: AnnouncementsController#manageHistory: OK {"parameters":{"id":"25","remove":"260"},"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_history\">\n    <h1 class=\"content-heading\">\n            Announcement responses - Test\n            </h1>\n                <div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    Filter by user:\n    <select id=\"user-select\">\n        <option value=\"\" selected=\"selected\"></option>\n                    <option value=\"149\" >test81@test.ua</option>\n                    <option value=\"321\" >vtest260@grr.la</option>\n                    <option value=\"322\" >taylor.fleeman+2@sprious.com</option>\n                    <option value=\"323\" >vtest261@grr.la</option>\n                    <option value=\"323\" >vtest261@grr.la</option>\n            </select>\n\n    <em class=\"fa fa-refresh table-reload\" style=\"cursor: pointer\"></em>\n\n    <form id=\"form\" method='POST'>\n        <div style=\"overflow-x: scroll;\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th>User email</th>\n                        <th>Action</th>\n                        <th>Data</th>\n                        <th>Timestamp <em class=\"fa fa-chevron-down\"></em></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"259\">\n                        <td>\n                            test81@test.ua\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-24 12:33:49\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"255\">\n                        <td>\n                            vtest261@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-23 13:41:59\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"251\">\n                        <td>\n                            vtest261@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-22 13:33:27\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"246\">\n                        <td>\n                            vtest260@grr.la\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-23 13:26:34\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"229\">\n                        <td>\n                            taylor.fleeman+2@sprious.com\n                        </td>\n                        <td>\n                                                            Close\n                                                    </td>\n                        <td>\n                            \n                        </td>\n                        <td>\n                            2018-05-23 10:15:00\n                        </td>\n                        <td>\n                            <button class=\"remove\" style=\"cursor: pointer\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                                </tbody>\n            </table>\n        </div>\n\n            </form>\n  </div>\n</div>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var select = $('#user-select');\n\n        function reload() {\n            var userId;\n\n            var url = window.location.href;\n            url = url.replace(/\\&userId=\\d*/, '').replace(/\\&page=\\d*/, '');\n            if(userId = select.val()) {\n                window.location =  url + '&userId=' + userId;\n            } else \n                window.location = url;\n        }\n\n        $('#user-select').on('change', reload);\n        $('.table-reload').on('click', reload);\n\n        $('#form').on('click', '.remove', function(e) {\n            $('#form').append('<input type=\"hidden\" name=\"remove\" value=\"' + $(e.target).closest('tr').attr('data-id') + '\"></input>');\n        });\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"bd0967d"}
[2018-05-24 20:03:44.795439] 602ed5e.INFO: AnnouncementsController#manageAnnouncements: OK {"parameters":[],"response":"<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n        <meta name=\"description\" content=\"Blazing Proxies - Dashboard\">\n        <meta name=\"keywords\" content=\"proxies, blazing, dashboard, admin\">\n        <title>Proxy Admin Panel</title>\n        <base href=\"http://proxy.devcopy.blazingseollc.com/\">\n        <!-- =============== VENDOR STYLES ===============-->\n<!-- FONT AWESOME-->\n<link rel=\"stylesheet\" href=\"assets/vendor/font-awesome/css/font-awesome.min.css?v=814b424e5e58e98abf6e578b3e911e0e\">\n<!-- SIMPLE LINE ICONS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/simple-line-icons/css/simple-line-icons.css?v=8f03f199ac5154bf7e14a10013e8b162\">\n<!-- ANIMATE.CSS-->\n<link rel=\"stylesheet\" href=\"assets/vendor/animate.css/animate.min.css?v=4c4f01a6236a7538ee365f4f08ff1f33\">\n<!-- WHIRL (spinners)-->\n<link rel=\"stylesheet\" href=\"assets/vendor/whirl/dist/whirl.css?v=f6db9ab64957c4f8c2f39e44e2b76ebf\">\n<!-- Datepicker-->\n<link rel=\"stylesheet\" href=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css?v=6faa6861b042bcc63b8325e4fcb2bc70\">\n\n<!-- =============== BOOTSTRAP STYLES ===============-->\n    <link rel=\"stylesheet\" href=\"assets/vendor/bootstrap/dist/css/bootstrap.min.css?v=ef40a6bee55a6512e5c0add8ba80f5e4\" id=\"bscss\">\n<link rel=\"stylesheet\" href=\"assets/vendor/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css?v=667db280fdb37082c9bac12c431d52fa\">\n\n<!-- =============== APP STYLES ===============-->\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/app.css?v=0a2f5037767bfd4f6de8166d2b5d5ec1\" id=\"maincss\">\n<link rel=\"stylesheet\" href=\"assets/proxy-dashboard/theme/default/css/proxy.css?v=56e444a47f76188fa359d7eed424b96a\">    </head>\n\n    <body>\n        <span class=\"corner-ribbon left-top\" title=\"Beta\">Beta</span>\n        <div class=\"wrapper\">\n            <!-- top navbar-->\n            <header class=\"topnavbar-wrapper\">\n                <!-- START Top Navbar-->\n                <nav role=\"navigation\" class=\"navbar topnavbar\">\n                    <!-- START navbar header-->\n                    <div class=\"navbar-header\">\n                        <h3>Admin panel</h3>\n                    </div>\n                    <!-- END navbar header-->\n\n                    <!-- START Nav wrapper-->\n                    <div class=\"nav-wrapper\">\n                        <!-- START Right Navbar-->\n                        <ul class=\"nav navbar-nav navbar-right\">\n                            <!-- START Contacts button-->\n                                                        <li>\n                                <a href=\"http://proxy.devcopy.blazingseollc.com/management/logout.html\" data-toggle-state=\"offsidebar-open\" data-no-persist=\"true\">\n                                    <em class=\"icon-logout\"></em>\n                                </a>\n                            </li>\n                                                        <!-- END Contacts menu-->\n                        </ul>\n                        <!-- END Right Navbar-->\n                    </div>\n                    <!-- END Nav wrapper-->\n\n                </nav>\n                <!-- END Top Navbar-->\n            </header>\n            <!-- sidebar-->\n            <aside class=\"aside\">\n                <!-- START Sidebar (left)-->\n<div class=\"aside-inner\">\n    <nav class=\"sidebar\">\n        <!-- START sidebar nav-->\n        <ul class=\"nav\">\n            <!-- Iterates over all sidebar items-->\n            <li class=\"nav-heading\">\n                <span>Main Navigation</span>\n            </li>\n            <li>\n                <a href=\"http://proxy.devcopy.blazingseollc.com/management/\" title=\"Dashboard\">\n                    <em class=\"icon-home\"></em>\n                    <span>Dashboard</span>\n                </a>\n            </li>\n\n                            <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv4/import-ips.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import IPv4 Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>IPv6</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/ipv6/import-blocks.html\">\n                        <em class=\"icon-cloud-upload\"></em>\n                        <span>Import Blocks</span>\n                    </a>\n                </li>\n\n                <li class=\"nav-heading\">\n                    <span>Announcements</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage Announcements</span>\n                    </a>\n                </li>\n\n\t\t        <li class=\"nav-heading\">\n                    <span>Tools</span>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/modify-api-username\">\n                        <em class=\"glyphicon glyphicon-pencil\"></em>\n                        <span>Modify Api & Username</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/predefined-queries\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Predefined Queries</span>\n                    </a>\n                </li>\n                <li>\n                    <a href=\"http://proxy.devcopy.blazingseollc.com/management/tools/manage-blocks\">\n                        <em class=\"fa fa-globe\"></em>\n                        <span>Manage blocks</span>\n                    </a>\n                </li>\n                </ul>\n        <!-- END sidebar nav-->\n    </nav>\n</div>\n                <!-- END Sidebar (left)-->\n            </aside>\n            <!-- Main section-->\n            <section>\n                <!-- Page content-->\n<div class=\"content-wrapper page-proxy_dashboard_announcements\">\n    <h1 class=\"content-heading\">\n            Announcements\n            </h1>\n                \n\n<div class=\"panel panel-default\">\n  <div class=\"panel-body\">\n    <form id=\"form\" method='POST'>\n        <input type=\"hidden\" name=\"id\" class=\"form-control\">\n        <div style=\"overflow-x: scroll; padding-bottom: 300px\">\n            <table id=\"announcements-table\" class=\"table\">\n                <thead>\n                    <tr>\n                        <th style=\"min-width: 150px;\">Name</th>\n                        <th>Date start</th>\n                        <th>Date end</th>\n                        <th>Priority</th>\n                        <th>Period</th>\n                        <th>Times</th>\n                        <th>Data</th>\n                        <th>Status</th>\n                        <th>Reseller id</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                                    <tr data-id=\"1\">\n                        <td data-value=\"&lt;b&gt;test1&lt;/b&gt;\">\n                            <b>&lt;b&gt;test1&lt;/b&gt;</b>\n                        </td>\n                        <td>\n                            2018-03-12 05:54:02\n                        </td>\n                        <td>\n                            2018-07-20 22:50:38\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test.html.twig&quot;,&quot;items&quot;: {&quot;bhw&quot;:[&quot;https://goo.gl/ZnD8AF&quot;,&quot;https://bit.ly/2JM11qJ&quot;],&quot;tw&quot;:[&quot;https://goo.gl/hB8nhJ&quot;,&quot;https://twitter.com/blazingseo&quot;],&quot;inst&quot;:[&quot;https://goo.gl/4fA5YA&quot;,&quot;https://www.instagram.com/blazingseollc/&quot;],&quot;fb&quot;:[&quot;https://goo.gl/hoo3tk&quot;,&quot;https://www.facebook.com/blazingseo/&quot;]}}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=1\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"17\">\n                        <td data-value=\"test2\">\n                            <b>test2</b>\n                        </td>\n                        <td>\n                            2018-03-26 05:54:02\n                        </td>\n                        <td>\n                            2018-03-30 22:50:38\n                        </td>\n                        <td>\n                            107\n                        </td>\n                        <td>\n                            24\n                        </td>\n                        <td>\n                            10\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test2.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=17\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"24\">\n                        <td data-value=\"test3\">\n                            <b>test3</b>\n                        </td>\n                        <td>\n                            2018-03-26 16:02:42\n                        </td>\n                        <td>\n                            2018-03-28 16:02:46\n                        </td>\n                        <td>\n                            108\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;test3.html.twig&quot;}\n                        </td>\n                        <td>\n                            0\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=24\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr data-id=\"25\">\n                        <td data-value=\"Test\">\n                            <b>Test</b>\n                        </td>\n                        <td>\n                            2018-05-21 16:07:00\n                        </td>\n                        <td>\n                            2018-05-26 16:06:59\n                        </td>\n                        <td>\n                            150\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            2\n                        </td>\n                        <td>\n                            {&quot;template&quot;:&quot;textbased&quot;,&quot;content&quot;:&quot;test announcement&quot;,&quot;heading&quot;:&quot;testing sample&quot;,&quot;buttonText&quot;:&quot;close it&quot;,&quot;size&quot;:&quot;modal-sm&quot;}\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            1\n                        </td>\n                        <td>\n                            <button class=\"edit\">\n                                <em class=\"fa fa-pencil-square-o\"></em>\n                            </button>\n                            <button class=\"remove\">\n                                <em class=\"fa fa-times\"></em>\n                            </button>\n                            <a href=\"http://proxy.devcopy.blazingseollc.com/management/announcements-history?id=25\" style=\"color: inherit;\">\n                                <button type=\"button\">\n                                    <em class=\"fa fa-envelope-o\"></em>\n                                </button>\n                            </a>\n                        </td>\n                    </tr>\n                                    <tr>\n                        <td colspan=\"9\">\n                        <td>\n                            <button class=\"addnew\">\n                                <em class=\"fa fa-plus\"></em>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </form>\n  </div>\n</div>\n\n<table id=\"edit-template\" style=\"display: none\">\n    <tr class=\"editable-row\">\n        <td>\n            <input type=\"text\" name=\"name\" class=\"form-control\">\n        </td>\n        <td>\n            <div class='input-group date date-start'>\n                <input type=\"text\" name=\"date_start\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <div class='input-group date date-end'>\n                <input type=\"text\" name=\"date_end\" class=\"form-control\">\n                <span class=\"input-group-addon\">\n                    <span class=\"fa fa-calendar\"></span>\n                </span>\n            </div>\n        </td>\n        <td>\n            <select name=\"priority\">\n                <option value=\"50\">Low</option>\n                <option value=\"100\" selected=\"selected\">Normal</option>\n                <option value=\"150\" selected=\"selected\">High</option>\n                <option value=\"201\">Very high</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"number\" name=\"period\" style=\"width: 50px\">\n        </td>\n        <td>\n            <input type=\"number\" name=\"times_to_show\" style=\"width: 50px\">\n        </td>\n        <td>\n            <textarea name=\"data\"></textarea>\n        </td>\n        <td>\n            <select name=\"active\">\n                <option value=\"1\">Active</option>\n                <option value=\"0\">Disabled</option>\n            </select>\n        </td>\n        <td>\n            <input type=\"text\" name=\"reseller_id\">\n        </td>\n        <td>\n            <button class=\"save\">\n                Save\n            </button>\n            <button class=\"cancel\">\n                Cancel\n            </button>\n        </td>\n    </tr>\n    <tr class=\"editable-row no-border\">\n        <td colspan=\"100\" class=\"edit-sites-relations\"></td>\n    </tr>\n</table>\n\n    </div>            </section>\n\n        <!-- Page footer-->\n        <footer>\n            <ul class=\"footer-nav\">\n                <li>\n                    <span>&copy; 2018 Blazing Proxies</span>\n                </li>\n            </ul>\n        </footer>\n    </div>\n    <!-- =============== VENDOR SCRIPTS ===============-->\n<!-- MODERNIZR-->\n<script src=\"vendor/modernizr/dist/modernizr-build.min.js\"></script>\n<!-- MATCHMEDIA POLYFILL-->\n<script src=\"assets/vendor/matchMedia/matchMedia.js?v=f0e75ff3f339bc81599715e971afd490\"></script>\n<!-- JQUERY-->\n<script src=\"assets/vendor/jquery/dist/jquery.min.js?v=1043d5ff3be71ca1081ec51d89fef09b\"></script>\n<!-- BOOTSTRAP-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap/dist/js/bootstrap.min.js?v=ef40a6bee55a6512e5c0add8ba80f5e4\"></script>\n<script type=\"text/javascript\">$.fn.tooltip.Constructor.DEFAULTS.container = 'body'</script>\n<!-- JQUERY EASING-->\n<script src=\"assets/vendor/jquery.easing/js/jquery.easing.min.js?v=e77db488560754edd94fb7848d386154\"></script>\n<!-- JQUERY STORAGE-->\n<script src=\"assets/vendor/jquery-storage-api/jquery.storageapi.min.js?v=3f6c934509ad89ea688e26670398a6db\"></script>\n<!-- ANIMO-->\n<script src=\"assets/vendor/animo.js/animo.js?v=c2265f65803df0a856d498dda5546b8f\"></script>\n<!-- SLIMSCROLL-->\n<script src=\"assets/vendor/slimScroll/jquery.slimscroll.min.js?v=bf8dad349e791845b547bad6c2150d86\"></script>\n<!-- SCREENFULL-->\n<script src=\"assets/vendor/screenfull/dist/screenfull.js?v=a34e7015e26a7546a181cd5fb498489b\"></script>\n<!-- LOCALIZE-->\n<script src=\"assets/vendor/jquery-localize-i18n/dist/jquery.localize.min.js?v=465d370b8581695e5f70000fad91cfb0\"></script>\n<!-- Moment.js-->\n<script src=\"assets/vendor/moment/min/moment.min.js?v=216aa44c809a4541e975fd30fa4f1b32\"></script>\n<!-- Datepicker-->\n<script src=\"assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js?v=243c8953e42aa9f60c9aa6dcd6d29451\"></script>\n<!-- OTHER-->\n<script type=\"text/javascript\" src=\"assets/vendor/bootbox.js/bootbox.js?v=ee7d1338d5397d10a587bc68d174dbfc\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/spinner.js/dist/spinner.min.js?v=389570e41ba7531688f8621e8ed42d56\"></script>\n<script type=\"text/javascript\" src=\"assets/vendor/bootstrap-validator/dist/validator.min.js?v=35ca528b84c59f05abbd3920120c9041\"></script>\n<!-- =============== PAGE VENDOR SCRIPTS ===============-->\n<!-- =============== APP SCRIPTS ===============-->\n<script type=\"text/javascript\">\n\twindow.$config = {\n\t\t'mainUrl': 'http://proxy.devcopy.blazingseollc.com/',\n        'routing': {}\n\t};\n</script>    <script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/app.js?v=0a2f5037767bfd4f6de8166d2b5d5ec1\"></script>\n<script type=\"text/javascript\" src=\"assets/proxy-dashboard/js/proxy.js?v=9552057c92e22a20fd65da3ad87d0a4c\"></script>        <script>\n        var rowBackup;\n        var rowEdited;\n        var announcements = {\"1\":{\"id\":\"1\",\"name\":\"<b>test1<\\/b>\",\"data\":\"{\\\"template\\\":\\\"test.html.twig\\\",\\\"items\\\": {\\\"bhw\\\":[\\\"https:\\/\\/goo.gl\\/ZnD8AF\\\",\\\"https:\\/\\/bit.ly\\/2JM11qJ\\\"],\\\"tw\\\":[\\\"https:\\/\\/goo.gl\\/hB8nhJ\\\",\\\"https:\\/\\/twitter.com\\/blazingseo\\\"],\\\"inst\\\":[\\\"https:\\/\\/goo.gl\\/4fA5YA\\\",\\\"https:\\/\\/www.instagram.com\\/blazingseollc\\/\\\"],\\\"fb\\\":[\\\"https:\\/\\/goo.gl\\/hoo3tk\\\",\\\"https:\\/\\/www.facebook.com\\/blazingseo\\/\\\"]}}\",\"priority\":\"150\",\"date_start\":\"2018-03-12 05:54:02\",\"date_end\":\"2018-07-20 22:50:38\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}},\"17\":{\"id\":\"17\",\"name\":\"test2\",\"data\":\"{\\\"template\\\":\\\"test2.html.twig\\\"}\",\"priority\":\"107\",\"date_start\":\"2018-03-26 05:54:02\",\"date_end\":\"2018-03-30 22:50:38\",\"period\":\"24\",\"times_to_show\":\"10\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"24\":{\"id\":\"24\",\"name\":\"test3\",\"data\":\"{\\\"template\\\":\\\"test3.html.twig\\\"}\",\"priority\":\"108\",\"date_start\":\"2018-03-26 16:02:42\",\"date_end\":\"2018-03-28 16:02:46\",\"period\":\"1\",\"times_to_show\":\"1\",\"active\":\"0\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"0\"}},\"25\":{\"id\":\"25\",\"name\":\"Test\",\"data\":\"{\\\"template\\\":\\\"textbased\\\",\\\"content\\\":\\\"test announcement\\\",\\\"heading\\\":\\\"testing sample\\\",\\\"buttonText\\\":\\\"close it\\\",\\\"size\\\":\\\"modal-sm\\\"}\",\"priority\":\"150\",\"date_start\":\"2018-05-21 16:07:00\",\"date_end\":\"2018-05-26 16:06:59\",\"period\":\"1\",\"times_to_show\":\"2\",\"active\":\"1\",\"reseller_id\":\"1\",\"sites\":{\"dashboard\":\"1\",\"whmcs\":\"1\"}}};\n\n        $('#announcements-table').on('click', '.edit', function(e) {\n            var row = $(e.target).closest('tr');\n\n            if(rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            rowBackup = row[0];\n\n            var newRow = $('#edit-template tr').clone().replaceAll(row);\n            newRow.attr('data-id', row.attr('data-id'));\n\n            rowEdited = newRow;\n\n            var i = 0;\n            $(row).find('td').each(function(){\n                var value = '';\n                if($(this).attr('data-value')) {\n                    value = $(this).attr('data-value');\n                } else {\n                    value = $(this).html();\n                }\n\n                var elem = newRow.find('td').eq(i).find('input, select, textarea').eq(0);\n                if(elem.prop(\"tagName\") == 'INPUT') {\n                    elem.val($.trim(value));\n                } else if(elem.prop(\"tagName\") == 'SELECT') {\n                    elem.find('option[value=\"' + $.trim(value) + '\"]').attr('selected', 'selected');\n                } else if(elem.prop(\"tagName\") == 'TEXTAREA') {\n                    elem.html($.trim(value));\n                }\n\n                i++;\n            });\n\n            initDatePickers(newRow);\n            initSiteCheckboxes(row.attr('data-id'));\n        });\n\n        $('#announcements-table').on('click', '.cancel', function(e) {\n            var row = $(e.target).closest('tr');\n\n            // replace closest editable row with actual row being edited\n            rowRestore(row);\n\n            // remove all editable rows\n            rowEdited.remove();\n            rowEdited = false;\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.save', function(e) {\n            if($(e.target).closest('tr').attr('data-id')) {\n                $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            } else {\n                $('#form input[name=\"id\"]').remove();\n            }\n        });\n\n        $('#announcements-table').on('click', '.addnew', function(e) {\n            if (rowEdited) {\n                // replace closest editable row with actual row being edited\n                rowRestore(rowEdited.eq(0));\n\n                // remove all editable rows\n                rowEdited.remove();\n            }\n\n            var row = $(e.target).closest('tr');\n            var newRow = $('#edit-template tr').clone();\n\n            rowEdited = newRow;\n\n            row.before(newRow);\n            initDatePickers(newRow);\n\n            e.preventDefault();\n        });\n\n        $('#announcements-table').on('click', '.remove', function(e) {\n            if (!confirm(\"Are you sure you want to remove this announcement?\"))\n                e.preventDefault();\n\n            $('#form input[name=\"id\"]').val($(e.target).closest('tr').attr('data-id'));\n            $('#form').append('<input type=\"hidden\" name=\"remove\" class=\"form-control\" value=\"1\">');\n        });\n\n        function initDatePickers(row) {\n            row.find('.date-start, .date-end').datetimepicker({ //, .date-end'\n                format: \"YYYY-MM-DD HH:mm:ss\",\n                icons: {\n                    time: \"fa fa-clock-o\",\n                    date: \"fa fa-calendar\",\n                    up: \"fa fa-arrow-up\",\n                    down: \"fa fa-arrow-down\"\n                }\n            });\n        }\n\n        function initSiteCheckboxes(id) {\n            var html = 'Display on sites: ';\n            if (id) {\n                var sites = announcements[id].sites;\n                for (var site_id in sites) {\n                    html += '<input class=\"checkbox-inline\" type=\"checkbox\" name=\"sitesRel[' + site_id + ']\" value=\"1\"' + (sites[site_id] == '1' ? ' checked' : '') + '> ' + site_id;\n                }\n            }\n\n            rowEdited.find('.edit-sites-relations').html(html);\n        }\n\n        function rowRestore(row) {\n            if(row.attr('data-id')) {\n                if(rowBackup) {\n                    row.replaceWith(rowBackup);\n                }\n            } else {\n                row.remove();\n            }\n        }\n    </script>\n    </body>\n</html>"} {"app":{"name":"proxy-core/all","env":"dev","owner":"any"},"muid":"602ed5e"}
